<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>ClipVault</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors duration-300">

  <div class="max-w-lg mx-auto p-6">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-3xl font-bold head">ðŸ“‹ ClipVault</h1>
      
    </div>

    <!-- Send Section -->
    <section class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow mb-6">
      <h2 class="text-xl font-semibold mb-3">Send</h2>
      <textarea id="textInput" oninput="clearFiles()" placeholder="Type text here..."
        class="border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 p-3 w-full mb-3 rounded resize-none h-32"></textarea>
      <input type="file" id="fileInput" onchange="clearText()" class="mb-3 w-full text-sm" multiple>
      <button onclick="sendData()"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition">Generate Code</button>
      <p id="sendResult" class="mt-3 font-mono break-all"></p>
    </section>

    <!-- Receive Section -->
    <section class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow">
      <h2 class="text-xl font-semibold mb-3">Receive</h2>
      <input id="codeInput" placeholder="Enter 4-digit code"
        class="border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 p-3 w-full mb-3 rounded">
      <button onclick="receiveData()"
        class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded transition">Fetch</button>
      <div id="receiveResult" class="mt-3 break-words"></div>
    </section>
  </div>

  <!-- Toast Notification -->
  <div id="toast"
    class="fixed bottom-5 right-5 bg-green-500 text-white px-4 py-2 rounded opacity-0 transition-opacity duration-300"></div>

  <script src="script.js"></script>
  <script>
    // Dark/Light Mode Toggle Logic
    const toggleButton = document.getElementById('toggleMode');
    const html = document.documentElement;

    function setTheme(theme) {
      if (theme === 'dark') {
        html.classList.add('dark');
      } else {
        html.classList.remove('dark');
      }
      localStorage.setItem('theme', theme);
    }

    toggleButton.addEventListener('click', () => {
      if (html.classList.contains('dark')) {
        setTheme('light');
      } else {
        setTheme('dark');
      }
    });

    // Load saved theme on startup
    if (localStorage.getItem('theme') === 'dark') {
      html.classList.add('dark');
    }
  </script>
</body>

</html>
